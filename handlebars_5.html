<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Handlebars_4</title>
  <script src="handlebars-v4.0.10.js"></script>
</head>

<body>
  <div id="contentDiv"></div>

  <script id="the-template" type="text/x-handlebars-template">

    {{> myName}}

    <div class="post">
      {{> askQuestion tagName="h2"}}

      <h2>Sugestions</h2> {{#each comments}} {{> askQuestion tagName="h3"}} {{/each}}
    </div>

  </script>

  <script type="text/javascript">
    var templateInfo = document.getElementById("the-template").innerHTML;
    var template = Handlebars.compile(templateInfo);

    Handlebars.registerPartial("myName", '{{name}}');

    Handlebars.registerPartial("askQuestion", '<{{tagName}}>{{author}}</tagName' + '<div class="comment">' + ': ' + '{{comment}}</div>');

    var templateData = template({
      name: "Andy",
      author: "Andy Wynyard",
      comment: "Where should we vacation?",
      comments: [{
          author: "Sue Smith",
          comment: "The Beach"
        },
        {
          author: "Paul Smith",
          comment: "Disneyland"
        }
      ]
    });

    document.getElementById("contentDiv").innerHTML += templateData;
  </script>

</body>

</html>
